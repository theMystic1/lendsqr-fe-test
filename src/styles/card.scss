@use "sass:map";
@use "sass:color" as c;
@use "./variables/colors.scss" as color;

@use "./variables/tokens.scss" as t;

$icon-themes: (
  primary: color.$cyan-color,
  // secondary: color.$gray-blue-400,
  // pending: color.$yellow-500,
  // danger: color.$red-600,
  savings: color.$pink-500,
  active: color.$gray-blue-600,
  users: color.$purple-500,
  loans: color.$orange-500,
);

@function theme($name) {
  @if map.has-key($icon-themes, $name) {
    @return map.get($icon-themes, $name);
  }
  @return map.get($icon-themes, primary);
}

@mixin icon-badge($main) {
  background: c.change($main, $alpha: 0.1);
  color: $main;
}

.card {
  background: color.$white-color;
  // z-index: 0;
  border-radius: t.s(1);
  box-shadow: t.s(1) t.s(1) t.s(5) t.s(0) color.$shadow-color;
  padding: t.s(4);
  // overflow: clip;
  border: t.s(0.2) solid #213f7d0f;
  width: t.$full;
  position: relative;
  &--interactive {
    cursor: pointer;
    transition:
      transform 150ms ease,
      box-shadow 150ms ease;

    &:hover {
      transform: translateY(-1px);
      box-shadow: t.s(0) t.s(4) t.s(8) color.$shadow-color;
    }

    &:active {
      transform: translateY(0);
    }
  }

  &__tall {
    min-height: t.s(192);
  }

  &__border {
    border: t.s(0.2) solid rgba(color.$gray-blue-400, 0.14);
  }

  /* Card sections */
  &__header {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    // justify-content: space-between;
    // gap: ;
    gap: t.s(1);
    margin-bottom: t.s(3);
    font-weight: t.fw(semibold);
  }

  &__title {
    margin: t.s(0);
    font-size: t.s(4);
    font-weight: t.fw(bold);
    line-height: t.lh(tight);
  }

  &__subtitle {
    margin: t.s(1) t.s(0) t.s(0);
    font-size: t.fs(sm);
    color: rgba(color.$gray-blue-400, 0.95);
  }

  &__body {
    display: block;
  }

  &__footer {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    gap: t.s(2);
    margin-top: t.s(4);
    padding-top: t.s(4);
    border-top: t.s(0.2) solid rgba(color.$gray-blue-400, 0.16);
  }
  &__icon {
    width: t.s(10);
    height: t.s(10);
    border-radius: t.$half;

    display: grid;
    place-items: center;

    @include icon-badge(theme(primary));

    img {
      width: t.s(5);
      height: t.s(5);
      fill: currentColor;
    }
  }

  @each $name, $main in $icon-themes {
    &__icon--#{$name} {
      @include icon-badge($main);
    }
  }
}
